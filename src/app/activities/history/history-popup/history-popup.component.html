<div *ngIf="currentHistory?.isExpired" class="stamp-expired">
  <span>Time Expired!</span>
</div>

<div *ngIf="currentHistory" class="main__container">
  <h1 class="type">{{currentHistory.type}}</h1>
  <div class="test-info section">
    <div class="group">
      <span class="page-title">Group: </span>
      <span class="bold">{{currentHistory.group}}</span>
    </div>
    <div class="block">
      <span class="page-title">Block: </span>
      <span class="bold">{{currentHistory.block}}</span>
    </div>
  </div>
  <h1 class="name">{{currentHistory.user.name}} {{currentHistory.user.surename}} </h1>
  <div class="date">{{currentHistory.createdAt | date:'dd/MM/yyyy, HH:mm aaa'}}</div>
  <fieldset *ngFor="let activity of currentHistory.data"
            [ngClass]="{writing: activity.type.toLowerCase() === 'writing'}">
    <legend>{{activity.type | titlecase}}</legend>
    <div class="unit-activity">
      <ng-container *ngIf="activity.correct;">
        <div>correct: {{activity.correct.length}}</div>
        <div>incorrect: {{activity.incorrect.length}}</div>
        <div *ngIf="activity.ballScore">ball: {{activity.ballScore | number : '1.0-2'}}</div>
      </ng-container>

      <ng-container *ngIf="activity.type.toLowerCase() === 'writing'">
        <div>
          <div class="bold">Theme:</div>
          <br>{{activity.theme}}</div>
        <div>
          <div class="bold">essay:</div>
          <br> {{activity.essay}}</div>
      </ng-container>
    </div>
  </fieldset>
  <div class="score">
    <div class="page-title">Balls:</div>
    <div class="score-item">{{currentHistory.score | number : '1.0-2'}}</div>
  </div>
</div>



